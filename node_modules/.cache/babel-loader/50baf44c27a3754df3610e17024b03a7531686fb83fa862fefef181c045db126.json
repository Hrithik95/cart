{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\React Projects\\\\cart\\\\src\\\\App.js\";\nimport React from 'react';\nimport Cart from './Cart';\nimport Navbar from './Navbar';\nimport CartItem from './CartItem';\n// import { getFirestore, collection, query,  getDocs } from \"firebase/firestore\";\nimport { firestore } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.handleIncreaseQuantity = product => {\n      console.log(product);\n      const {\n        products\n      } = this.state;\n      const index = products.indexOf(product);\n      products[index].qty += 1;\n      this.setState({\n        products: products\n      });\n    };\n    this.handleDecreaseQuantity = product => {\n      console.log(product);\n      const {\n        products\n      } = this.state;\n      const index = products.indexOf(product);\n      if (products[index].qty === 0) {\n        return;\n      }\n      products[index].qty -= 1;\n      this.setState({\n        products: products //if key and value has same variable name we can simply write single name also.Like here instead of writing \"products:products\" we can simply write \"products\" \n      });\n    };\n    this.handleDeleteProduct = id => {\n      const {\n        products\n      } = this.state;\n      const items = products.filter(item => item.id !== id);\n      this.setState({\n        products: items\n      });\n    };\n    this.getCartCount = () => {\n      const {\n        products\n      } = this.state;\n      let count = 0;\n      products.forEach(item => {\n        count += item.qty;\n      });\n      return count;\n    };\n    this.getCartTotal = () => {\n      const {\n        products\n      } = this.state;\n      let cartTotal = 0;\n      products.forEach(item => {\n        if (item.qty > 0) {\n          cartTotal = cartTotal + item.qty * item.price;\n        }\n      });\n      return cartTotal;\n    };\n    this.state = {\n      products: [],\n      loading: true\n    };\n\n    //Method:2-without firestore\n    //\n    // this.state={\n    //     products:[\n    //         {\n    //         title:\"Phone\",\n    //         price:16500,\n    //         qty:1,\n    //         img:'https://images.unsplash.com/photo-1525598912003-663126343e1f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8cGhvbmV8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60',\n    //         id:1\n    //         },\n    //         {\n    //         title:\"Watch\",\n    //         price:1750,\n    //         qty:1,\n    //         img:'https://media.istockphoto.com/id/1333053202/photo/set-of-smart-watches-with-colorful-straps-on-black-background.jpg?b=1&s=170667a&w=0&k=20&c=LCLxaHBnFLMDlxxr-tlp-g7Zz-DvNVmISjPK-HIDdVg=',\n    //         id:2\n    //         },\n    //         {\n    //         title:\"Laptop\",\n    //         price:40000,\n    //         qty:1,\n    //         img:'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1171&q=80',\n    //         id:3\n    //         }\n    //     ]\n    // }\n    // this.increaseQuantity=this.increaseQuantity.bind(this);\n    // this.testing();\n  }\n\n  componentDidMount() {\n    firestore.collection(\"products\").onSnapshot(snapshot => {\n      const products = snapshot.docs.map(doc => {\n        const data = doc.data();\n        data[\"id\"] = doc.id;\n        return data;\n      });\n      this.setState({\n        products: products,\n        loading: false\n      });\n    });\n  }\n  render() {\n    const {\n      products\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        count: this.getCartCount()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Cart, {\n        products: products,\n        onIncreaseQuantity: this.handleIncreaseQuantity,\n        onDecreaseQuantity: this.handleDecreaseQuantity,\n        onDeleteProduct: this.handleDeleteProduct\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 10,\n          fontSize: 20\n        },\n        children: [\"TOTAL: \", this.getCartTotal()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Cart","Navbar","CartItem","firestore","App","Component","constructor","handleIncreaseQuantity","product","console","log","products","state","index","indexOf","qty","setState","handleDecreaseQuantity","handleDeleteProduct","id","items","filter","item","getCartCount","count","forEach","getCartTotal","cartTotal","price","loading","componentDidMount","collection","onSnapshot","snapshot","docs","map","doc","data","render","padding","fontSize"],"sources":["C:/Users/USER/Desktop/React Projects/cart/src/App.js"],"sourcesContent":["import React from 'react';\nimport Cart from './Cart';\nimport Navbar from './Navbar';\nimport CartItem from './CartItem';\n// import { getFirestore, collection, query,  getDocs } from \"firebase/firestore\";\nimport { firestore } from \"../firebase\";\n\nclass App extends React.Component {\n  constructor(){\n    super();\n    this.state={\n      products:[],\n      loading:true\n    }\n\n\n     //Method:2-without firestore\n    //\n    // this.state={\n    //     products:[\n    //         {\n    //         title:\"Phone\",\n    //         price:16500,\n    //         qty:1,\n    //         img:'https://images.unsplash.com/photo-1525598912003-663126343e1f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8cGhvbmV8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60',\n    //         id:1\n    //         },\n    //         {\n    //         title:\"Watch\",\n    //         price:1750,\n    //         qty:1,\n    //         img:'https://media.istockphoto.com/id/1333053202/photo/set-of-smart-watches-with-colorful-straps-on-black-background.jpg?b=1&s=170667a&w=0&k=20&c=LCLxaHBnFLMDlxxr-tlp-g7Zz-DvNVmISjPK-HIDdVg=',\n    //         id:2\n    //         },\n    //         {\n    //         title:\"Laptop\",\n    //         price:40000,\n    //         qty:1,\n    //         img:'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1171&q=80',\n    //         id:3\n    //         }\n    //     ]\n    // }\n    // this.increaseQuantity=this.increaseQuantity.bind(this);\n    // this.testing();\n}\ncomponentDidMount() {\n  \n    firestore\n    .collection(\"products\")\n    .onSnapshot(snapshot => {\n      const products = snapshot.docs.map(doc => {\n        const data = doc.data();\n        data[\"id\"] = doc.id;\n        return data;\n      });\n      this.setState({ products: products, loading: false });\n    });\n}\n\n\nhandleIncreaseQuantity=(product)=>{\n   console.log(product);\n   const{products}=this.state;\n   const index=products.indexOf(product);\n   products[index].qty+=1;\n   this.setState({\n    products:products\n   })\n}\n   \n   handleDecreaseQuantity=(product)=>{\n    \n    console.log(product);\n    const{products}=this.state;\n    \n    const index=products.indexOf(product);\n    if(products[index].qty===0){\n        return;\n    }\n    products[index].qty-=1;\n    this.setState({\n     products:products //if key and value has same variable name we can simply write single name also.Like here instead of writing \"products:products\" we can simply write \"products\" \n    })\n }\n handleDeleteProduct=(id)=>{\n    const{products}=this.state;\n    const items=products.filter((item)=>item.id!==id);\n    this.setState({\n        products:items\n    })\n }\n\n getCartCount=()=>{\n    const{products}=this.state;\n    let count=0;\n    products.forEach((item)=>{\n      count+=item.qty;\n    })\n    return count;\n }\n\n getCartTotal=()=>{\n  const{products}=this.state;\n  let cartTotal=0;\n  products.forEach((item)=>{\n    if(item.qty>0){\n    cartTotal=cartTotal+item.qty*item.price;\n }\n })\n\n  return cartTotal;\n }\n      render(){\n        const{products}=this.state;\n        return (\n          <div className=\"App\">\n            <Navbar count={this.getCartCount()}/>\n            <Cart\n            products={products}\n            onIncreaseQuantity={this.handleIncreaseQuantity}\n            onDecreaseQuantity={this.handleDecreaseQuantity}\n            onDeleteProduct={this.handleDeleteProduct}\n            />\n            <div style={{padding:10,fontSize:20}}>TOTAL: {this.getCartTotal()}</div>\n          </div>\n        );\n      }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}